# url
## [log4js](https://www.npmjs.com/package/log4js)
通过打印操作，来形成日志，并记录成文件,java也有log4

以下是官方提供的例子
``` javascript
const log4js = require("log4js");
log4js.configure({
  // 定义logger名，输出位置
  appenders: { cheese: { type: "file", filename: "cheese.log" } },
  // 定义输出级别
  categories: { default: { appenders: ["cheese"], level: "error" } }
});

// 对loagger进行赋值，这里获取的是cheese这个logger,对应categories.name 
// 这里其实是获取default，并给别名chesese
const logger = log4js.getLogger("cheese");
// 以下输出级别由低到高，设置的越高能够打印的数量就越少。
logger.trace("Entering cheese testing");
logger.debug("Got cheese.");
logger.info("Cheese is Comté.");
logger.warn("Cheese is quite smelly.");
logger.error("Cheese is too ripe!");
logger.fatal("Cheese was breeding ground for listeria.");
```
## new URL(<url>)
可以获取url对应的各种信息，如protocal,username,password,host...
## new URLSearchParams(<Params>)
可以获取参数，还可以通过.get方法获取某个参数的值
``` javascript
const urlParams = new URLSearchParams(urlStr.searchParams);
logger.info(urlParams.get("id"));
```
# querysting
## querystring.parse(str[, sep[, eq[, options]]]) && querystring.decode
+ sep:标识分割符 默认为&
+ eq：默认为 =
+ options \<object>: 为编码方式
``` javascript
const url = new URL(
  "https://www.bilibili.com/video/BV1ca4y1n7u3?p=16&spm_id_from=pageDriver"
);
// const res = querystring.parse(url.search.slice(1));
const res = querystring.decode(url.search.slice(1)); //返回参数的对象
```
## querystring.stringify(obj[, sep[, eq[, options]]]) && querysting.encode
``` javascript
const parmasStr = querystring.stringify({
  foo: "bar",
  baz: ["qux", "quux"],
  corge: "",
},
});
logger.info(parmasStr); // foo=bar&baz=qux&baz=quux&corge=
// 中文的情况
const parmasStr = querystring.stringify(
  {
    foo: "bar",
    baz: ["东西", "好动西"], //中文会被转化成百分比字符
    corge: "",
  },
  null,
  null,
  {
    //若要获取中文，需要进行百分比编码字符的解码
    encodeURIComponent(string) {
      return querystring.unescape(string);
    },
  }
);
```
# http 
## 调试工具
``` javascript
$ node --inspect-brk server.js
```
在控制台左上角打开调试工具，通过debugger设置断点。
## node进程管理工具
+ supervisor
+ nodemon
+ forever
+ pm2